<!doctype html>
<html>
	<head>
		<title>Document</title>
		<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
		<style>
			*{
				margin:0;
				padding:0;
			}
			#ball{
				width:120px;
				height:120px;
				box-shadow:inset 1px 1px 40px 10px #fff;
				border-radius:50%;
				position:absolute;
				top:0;
				left:0;
			}
		</style>
	</head>
	<body>
	空格开始
		<div id='ball'></div>
	</body>
	<script>
		document.onkeydown = function(e){
			var e = e || window.event;
			switch(e.keyCode){
				case 32:
					tan();
					break;
		}
	}

		function tan(){
			var ball = document.getElementById('ball');

			var pg = document.documentElement.clientHeight - ball.offsetHeight;
			var pk = document.documentElement.clientWidth - ball.offsetWidth;


			// 初始值
			var timer = null;
			var x = 0;
			var y = 0;

			var a = 3.3;
			var b = 4.7;


			timer = setInterval(function(){
				x += a;
				y += b;
				

				ball.style.top =  y + 'px';
				ball.style.left =  x + 'px';

				if(ball.offsetTop >= pg +1){
					b = -b ;
					ball.style.background = 'green';
				}

				if(ball.offsetTop < 0){
					b = -b ;
					ball.style.background = 'purple';
				}

				if(ball.offsetLeft >= pk+1){
					a = -a ;
					ball.style.background = 'pink';
				}
				if(ball.offsetLeft < 0){
					a = -a ;
					ball.style.background = 'red';
				}

			},15);
		}
	</script>
</html>