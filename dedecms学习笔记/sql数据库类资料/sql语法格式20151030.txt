

1. SQL标签格式 

标签格式： 


{dede:sql sql=”一条完整的sql查询语句”} 

 [底层模板] 

{/dede:sql} 

 
Sql语句：select … from … where … 

底层模板：在数据库里面的所有字段都可以用[field:字段名/]来进行调用 

使用范围：在dedecms的模板页面中可以全局使用 

前提条件：必须了解dedecms数据库里面每张表的字段结构 

在dedecms中使用sql语句有两种使用范围： 


第一种：功能性的操作 

说明：新增一条数据(insert)修改一条数据(update)这种我们可以在dedecms
的后台的 SQL命令行工具 直接执行语句即可 
 

第二种：数据调用显示操作 

说明：就是我们上面讲的{dede:sql}标签，只需要把相应的标签语句写好，放
到模板的合适位置既可调用显示出数据。 

本节重点讲第二种的使用 


2.SQL标签例句演示 

Dedecms后台有一个可以测试标签效果的一个功能： 

 

模板.模板管理.全局标记测试 

 
例句演示部分
1.调用显示系统基本参数 

版权信息： 

{dede:global.cfg_powerby/}<br /> 

{dede:sql sql="select * from dede_sysconfig where aid=28 "} 

[field:value/] 

{/dede:sql} 


2.企业站首页调用公司简介 

 

说明：很多企业站都会在首页的一块区域显示“公司简介”，这个首页的公司简
介是在一个单页面中的，用dedecms如果显示这个简介里面的一段文字？ 

例如：http://www.sdhead.com/index.html 


调用语句： 

{dede:sql sql="select * from dede_arctype where id=2"} 

[field:content/] 

{/dede:sql} 

显示出来又有个问题了，我们在首页显示这一小部分文字，不需要这么多，如
何截取？ 

[field:字段名 function="cn_substr(@me,100)"/]... 

通过这个例子延伸理解，我们可以在页面的任何位置显示我们想要的任何数据。 

 

3.如何像{dede:arclist}标签一样调用文章列表 

{dede:sql sql="select * from dede_archives where typeid=3 limit 0,10"} 

 [field:title/]<br /> 

{/dede:sql} 

 

常用语句介绍与演示

1.清空栏目后ID从1开始

ALTER TABLE `dede_arctype` AUTO_INCREMENT =1

2.批量修改文章来源

UPDATE dede_archives SET source='72cms.net' WHERE source='未知'


3.批量修改文章作者
UPDATE dede_archives SET writer='monkey' WHERE writer='admin'


4.常用统计代码
http://help.dedecms.com/v53/archives/templets/sql/












